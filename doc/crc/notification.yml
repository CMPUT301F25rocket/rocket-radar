# Project Part 3 Update

MyFirebaseMessagingService:
  role:
    - Handles incoming Firebase Cloud Messaging (FCM) notifications.
    - Displays system-level notifications when the user has them enabled.
    - Manages notification channels for different Android versions.
    - Logs received messages and new FCM tokens.
    - Deprecated in favor of backend Cloud Functions but retained for fallback use.
  collab:
    - FirebaseMessagingService
    - NotificationManager
    - NotificationRepository
    - SharedPreferences

Notification:
  role:
    - Represents a single notification entity stored in Firestore.
    - Contains event details, timestamp, and read status.
    - Automatically maps Firestore document fields through annotations.
    - Supports both global notifications and user-specific notification stubs.
  collab:
    - NotificationRepository
    - NotificationAdapter
    - Firestore (DocumentId, ServerTimestamp)

NotificationAdapter:
  role:
    - Binds notification data to RecyclerView items for display in the UI.
    - Differentiates between unread, read, and separator view types.
    - Provides an empty state when no notifications exist.
    - Handles marking notifications as read via repository updates.
  collab:
    - Notification
    - NotificationRepository
    - NotificationFragment
    - RecyclerView

NotificationFragment:
  role:
    - Displays a list of notifications for the current user.
    - Observes real-time updates from NotificationRepository.
    - Handles UI visibility for empty states and back navigation.
    - Sorts notifications by read status and timestamp.
  collab:
    - NotificationAdapter
    - NotificationRepository
    - MainActivity
    - RecyclerView

NotificationRepository:
  role:
    - Manages Firestore operations for creating, reading, and updating notifications.
    - Observes real-time user notifications via snapshot listeners.
    - Sends event notifications to user groups while respecting user preferences.
    - Creates centralized notification content and distributes references to users.
  collab:
    - FirebaseAuth
    - FirebaseFirestore
    - Notification
    - NotificationFragment
    - MyFirebaseMessagingService
